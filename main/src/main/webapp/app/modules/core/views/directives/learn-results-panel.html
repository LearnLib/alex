<div class="absolute-panel learn-results-panel">
    <div class="absolute-panel-header">

        <div class="pull-left" ng-show="!results[pointer].error">

            <div class="btn-group btn-group-sm" dropdown dropdown-hover ng-show="mode === modes.HYPOTHESIS">
                <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle>
                    <i class="fa fa-bars"></i>
                </button>
                <ul class="dropdown-menu pull-left" role="menu">
                    <li>
                        <a href learn-result-details-modal-handle result="results[pointer]">
                            <i class="fa fa-info fa-fw"></i> Details
                        </a>
                    </li>
                    <li>
                        <a href hypothesis-layout-settings-modal-handle layout-settings="layoutSettings">
                            <i class="fa fa-sliders fa-fw"></i> Layout
                        </a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href download-svg="#hypothesis-{{index}}">
                            <i class="fa fa-save fa-fw"></i>&nbsp; Save as *.svg
                        </a>
                        <a href download-as-json data="results[pointer].hypothesis">
                            <i class="fa fa-save fa-fw"></i>&nbsp; Save as *.json
                        </a>
                    </li>
                </ul>
            </div>

            <div class="inline-block" ng-if="hasInternalDataStructure()">
                <button class="btn btn-default btn-sm"
                        ng-show="mode === modes.INTERNAL && results[pointer].configuration.algorithm === learnAlgorithms.LSTAR"
                        download-table-as-csv="#observation-table-{{index}}">
                    Download CSV
                </button>
                <button class="btn btn-default btn-sm"
                        ng-show="mode === modes.INTERNAL && results[pointer].configuration.algorithm === learnAlgorithms.DISCRIMINATION_TREE"
                        download-svg="#discrimination-tree-{{index}}">
                    Download SVG
                </button>
                <button class="btn btn-default btn-sm"
                        ng-show="mode === modes.INTERNAL"
                        ng-click="showHypothesis()">
                    Hypothesis
                </button>
                <button class="btn btn-default btn-sm"
                        ng-show="mode === modes.HYPOTHESIS && (results[pointer].configuration.algorithm === learnAlgorithms.DISCRIMINATION_TREE || results[pointer].configuration.algorithm === learnAlgorithms.LSTAR)"
                        ng-click="showInternalDataStructure()">
                    Internal
                </button>
            </div>

        </div>

        <div class="pull-right" ng-transclude></div>

        <div class="learn-results-panel-navigation btn-group btn-group-sm pull-right">
            <button class="btn btn-default" ng-click="firstStep()">
                <i class="fa fa-angle-double-left fa-fw"></i>
            </button>
            <button class="btn btn-default" ng-click="previousStep()">
                <i class="fa fa-angle-left fa-fw"></i>
            </button>
            <button class="btn btn-default disabled">
                <span ng-bind="pointer + 1"></span>/<span ng-bind="results.length"></span>
            </button>
            <button class="btn btn-default" ng-click="nextStep()">
                <i class="fa fa-angle-right fa-fw"></i>
            </button>
            <button class="btn btn-default" ng-click="lastStep()">
                <i class="fa fa-angle-double-right fa-fw"></i>
            </button>
        </div>

    </div>
    <div class="absolute-panel-body" ng-if="!results[pointer].error">

        <hypothesis id="hypothesis-{{index}}"
                    test="results[pointer]"
                    layout-settings="layoutSettings"
                    ng-if="mode === modes.HYPOTHESIS"
                    is-selectable="true"></hypothesis>

        <observation-table id="observation-table-{{index}}"
                           data="results[pointer].algorithmInformation"
                           ng-if="mode === modes.INTERNAL && results[pointer].configuration.algorithm === learnAlgorithms.LSTAR">
        </observation-table>

        <discrimination-tree id="discrimination-tree-{{index}}"
                             data="results[pointer].algorithmInformation"
                             ng-if="mode === modes.INTERNAL && results[pointer].configuration.algorithm === learnAlgorithms.DISCRIMINATION_TREE">
        </discrimination-tree>

    </div>

    <div class="absolute-panel-body" ng-if="results[pointer].error">

        <div class="text-center alert-container" ng-if="results[pointer].error">
            <div class="alert alert-danger inline-block">
                <i class="fa fa-fw fa-warning"></i>
                <strong>The execution of this step failed</strong>

                <p ng-bind="results[pointer].errorText"></p>
            </div>
        </div>

    </div>
</div>