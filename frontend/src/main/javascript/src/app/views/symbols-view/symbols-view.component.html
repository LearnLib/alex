<div class="view">
  <action-bar>
    <div *ngIf="groups.length > 0" class="d-flex flex-row align-items-center">
      <selectable-checkbox-multiple [selectable]="selectedSymbols"></selectable-checkbox-multiple>

      <div class="w-100 ml-3">
        <div class="btn-group btn-group-sm" ngbDropdown>
          <button class="btn btn-primary btn-dropdown" ngbDropdownToggle>
            Create
          </button>
          <div class="dropdown-menu" ngbDropdownMenu role="menu">
            <div (click)="openSymbolCreateModal()" ngbDropdownItem>Symbol</div>
            <div (click)="openSymbolGroupCreateModal()" ngbDropdownItem>Group</div>
          </div>
        </div>

        <div class="btn-group btn-group-sm ml-2">
          <button
            (click)="editSelectedSymbol()"
            [disabled]="selectedSymbols.getSelected().length !== 1"
            class="btn btn-default"
          >
            Edit
          </button>
          <button
            (click)="moveSelectedSymbols()"
            [disabled]="selectedSymbols.getSelected().length === 0"
            class="btn btn-default"
          >
            Move
          </button>
          <button (click)="deleteSelectedSymbols()"
                  [disabled]="selectedSymbols.getSelected().length === 0"
                  class="btn btn-default">
            Delete
          </button>
        </div>

        <div class="btn-group btn-group-sm ml-2">
          <button
            (click)="importSymbols()"
            class="btn btn-default"
            ngbTooltip="Import"
            placement="bottom"
          >
            <i class="fas fa-fw fa-upload"></i>
          </button>
          <button
            (click)="exportSelectedSymbols()"
            [disabled]="selectedSymbols.getSelected().length === 0"
            class="btn btn-default"
            ngbTooltip="Export"
            placement="bottom"
          >
            <i class="fas fa-fw fa-download"></i>
          </button>
        </div>
      </div>
    </div>
  </action-bar>

  <div class="view-body">
    <div class="container-fluid">

      <div style="height: 31px; margin-bottom: 1.5rem">
        <symbol-search-form
          (selected)="selectSymbol($event)"
          [groups]="groups"
        >
        </symbol-search-form>
      </div>

      <div *ngFor="let group of groups" style="margin-bottom: 2rem">
        <symbols-symbol-group-tree
          [group]="group"
          [selectedSymbols]="selectedSymbols"
          [symbols]="symbols"
        >
        </symbols-symbol-group-tree>
      </div>

    </div>
  </div>
</div>
