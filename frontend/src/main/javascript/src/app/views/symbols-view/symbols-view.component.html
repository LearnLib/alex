<div class="view">
  <view-header [title]="'Manage Symbols'"></view-header>

  <action-bar>
    <div *ngIf="groups.length > 0" class="d-flex flex-row align-items-center">
      <selectable-checkbox-multiple [selectable]="selectedSymbols"></selectable-checkbox-multiple>

      <div class="w-100 ml-3">
        <div class="btn-group btn-group-sm" ngbDropdown>
          <button class="btn btn-primary btn-dropdown" ngbDropdownToggle>
            Create
          </button>
          <div ngbDropdownMenu class="dropdown-menu" role="menu">
            <div ngbDropdownItem (click)="openSymbolCreateModal()">Symbol</div>
            <div ngbDropdownItem (click)="openSymbolGroupCreateModal()">Group</div>
          </div>
        </div>

        <div class="btn-group btn-group-sm ml-2">
          <button
            class="btn btn-default"
            [disabled]="selectedSymbols.getSelected().length !== 1"
            (click)="editSelectedSymbol()"
          >
            Edit
          </button>
          <button
            class="btn btn-default"
            [disabled]="selectedSymbols.getSelected().length === 0"
            (click)="moveSelectedSymbols()"
          >
            Move
          </button>
          <button class="btn btn-default"
                  [disabled]="selectedSymbols.getSelected().length === 0"
                  (click)="deleteSelectedSymbols()">
            Delete
          </button>
        </div>

        <div class="btn-group btn-group-sm ml-2">
          <button
            class="btn btn-default"
            (click)="importSymbols()"
            ngbTooltip="Import"
            placement="bottom"
          >
            <i class="fas fa-fw fa-upload"></i>
          </button>
          <button
            class="btn btn-default"
            (click)="exportSelectedSymbols()"
            ngbTooltip="Export"
            placement="bottom"
            [disabled]="selectedSymbols.getSelected().length === 0"
          >
            <i class="fas fa-fw fa-download"></i>
          </button>
        </div>
      </div>
    </div>
  </action-bar>

  <div class="view-body">
    <div class="container-fluid">

      <div style="height: 31px; margin-bottom: 1.5rem">
        <symbol-search-form
          [groups]="groups"
          (selected)="selectSymbol($event)"
        >
        </symbol-search-form>
      </div>

      <div style="margin-bottom: 2rem" *ngFor="let group of groups">
        <symbols-symbol-group-tree
          [group]="group"
          [symbols]="symbols"
          [selectedSymbols]="selectedSymbols"
        >
        </symbols-symbol-group-tree>
      </div>

    </div>
  </div>
</div>
