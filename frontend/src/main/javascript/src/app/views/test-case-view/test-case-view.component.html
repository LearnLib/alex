<div class="view view-test-case">
  <action-bar>
    <div class="d-flex flex-row align-items-center">
      <div class="btn-group btn-group-sm ml-auto">
        <button (click)="execute()" class="btn btn-primary">
          Execute
        </button>
        <button (click)="openTestConfigModal()" class="btn btn-primary">
          <i class="fas fa-fm fa-cog"></i>
        </button>
      </div>
      <button (click)="save()" class="btn btn-sm btn-success ml-2">
        <i class="fas fa-fw fa-save"></i> Save
      </button>
    </div>
  </action-bar>
  <div class="view-body">
    <div class="container-fluid">

      <div *ngIf="report != null">
        <test-report-progress [report]="report"></test-report-progress>
        <hr>
      </div>

      <div class="d-flex align-items-center">
        <div class="mr-1">
          <a
            class="btn btn-sm btn-default mr-1"
            [routerLink]="['/app', 'projects', testCase.project, 'tests', testCase.parent]"
          >
            <i class="fas fa-fw fa-level-up-alt"></i>
          </a>
        </div>
        <h4 class="w-100 m-0">
          <strong>
            <i class="fas fa-fw fa-file"></i> {{testCase.name}}
          </strong>
        </h4>
        <div>
          <div class="btn-group btn-group-sm" ngbDropdown>
            <button class="btn btn-default" ngbDropdownToggle type="button">
              <i class="fas fa-cogs"></i>
            </button>
            <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu role="menu">
              <button (click)="options.showSymbolOutputs = !options.showSymbolOutputs" ngbDropdownItem>
                <i [ngClass]="{'fa-check': options.showSymbolOutputs}" class="fas fa-fw"></i> Show symbol outputs
              </button>
            </div>
          </div>
        </div>
      </div>

      <hr>
      <div class="row">
        <div class="col-md-3 col-sm-5">

          <div class="card">
            <div class="card-header">
              <strong>Symbols</strong>
            </div>
            <div class="card-body">
              <div class="mb-2" style="height: 31px; position: relative; z-index: 10">
                <symbol-search-form (selected)="addSymbolStep($event)" [groups]="groups"></symbol-search-form>
              </div>

              <simple-symbol-group-tree
                (symbolSelected)="addSymbolStep($event)"
                [groups]="groups"
              >
              </simple-symbol-group-tree>
            </div>
          </div>

        </div>
        <div class="col-md-9 col-sm-7">

          <test-case-table
            *ngIf="testCase != null"
            [options]="options"
            [result]="result"
            [symbolMap]="symbolMap"
            [testCase]="testCase"
          >
          </test-case-table>

        </div>
      </div>
    </div>
  </div>
</div>
