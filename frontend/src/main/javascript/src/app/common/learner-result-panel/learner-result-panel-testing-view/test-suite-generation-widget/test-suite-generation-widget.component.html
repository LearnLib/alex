<form [formGroup]="form" (ngSubmit)="generateTestSuite()">

  <div class="card">
    <div class="card-header">
      <strong>Generate test suite</strong>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label>Name</label>
        <input
          [formControl]="form.controls.name"
          [class.is-invalid]="formUtils.isInvalidFormControl(form.controls.name)"
          class="form-control"
          minlength="1"
          placeholder="The name of the generated test suite"
          required
          type="text"
        >
        <div class="invalid-feedback">
          Enter a name for the test suite
        </div>
      </div>
      <div class="form-group">
        <label>Step No</label>
        <input
          [formControl]="form.controls.stepNo"
          [class.is-invalid]="formUtils.isInvalidFormControl(form.controls.stepNo)"
          [max]="result.steps.length"
          class="form-control"
          min="1"
          required
          type="number"
        >
        <div class="invalid-feedback">
          The step number must be > 0
        </div>
      </div>

      <div class="form-group">
        <label>Strategy</label>
        <select [formControl]="form.controls.method" class="form-control">
          <option [value]="'DT'">Discrimination tree</option>
          <option [value]="'W_METHOD'">W-Method</option>
          <option [value]="'WP_METHOD'">Wp-Method</option>
          <option [value]="'TRANS_COVER'">Transition cover</option>
        </select>
      </div>

      <div class="form-group form-check">
        <label class="form-check-label">
          <input
            [formControl]="form.controls.includeParameterValues"
            class="form-check-input mr-1"
            type="checkbox"
          >
          Include parameter values
        </label>
      </div>

      <div class="form-group">
        <label>Test suite to update</label>
        <div class="card">
          <div class="card-body">
            <test-suite-tree
              *ngIf="rootTestSuite != null"
              (selected)="handleTestSuiteSelected($event)"
              [selectedTestSuite]="selectedTestSuite"
              [testSuite]="rootTestSuite"
            >
            </test-suite-tree>
          </div>
        </div>
      </div>
    </div>

    <div class="card-footer text-right">
      <button class="btn btn-primary btn-sm" [disabled]="form.invalid">Generate</button>
    </div>
  </div>

</form>
