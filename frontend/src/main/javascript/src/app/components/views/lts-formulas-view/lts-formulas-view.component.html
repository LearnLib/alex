<div class="view">
  <view-header [title]="'Lts Formulas'"></view-header>
  <action-bar>
    <div class="d-flex flex-row align-items-center">
      <selectable-checkbox-multiple [selectable]="vm.selectedFormulas"></selectable-checkbox-multiple>
      <div class="w-100 ml-3">
        <button class="btn btn-sm btn-primary mr-2" ng-click="vm.ltsFormulaService.openCreateModal()">
          Create
        </button>

        <div class="btn-group btn-group-sm">
          <button
            class="btn btn-default"
            ng-click="vm.editSelectedFormula()"
            ng-disabled="vm.selectedFormulas.getSelected().length !== 1"
          >
            Edit
          </button>
          <button
            class="btn btn-default"
            ng-click="vm.deleteSelectedFormulas()"
            ng-disabled="!vm.selectedFormulas.isAnySelected()"
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  </action-bar>

  <div class="view-body">
    <div class="container-fluid">

      <div class="list-group" ng-if="vm.formulas.length > 0">
        <div class="list-group-item d-flex flex-row" ng-repeat="formula in vm.formulas">
          <div class="mr-3">
            <selectable-checkbox [item]="formula" [selectable]="vm.selectedFormulas"></selectable-checkbox>
          </div>
          <div class="w-100 mr-3">
            <strong class="mb-0 mt-0">{{formula.name}}</strong>
            <p class="mb-0 mt-0 text-muted">{{formula.formula}}</p>
          </div>
          <div>
            <div class="btn-group btn-group-xs" uib-dropdown>
              <button type="button" class="btn btn-default btn-icon no-caret" uib-dropdown-toggle>
                <i class="fas fa-bars"></i>
              </button>
              <div uib-dropdown-menu class="dropdown-menu dropdown-menu-right" role="menu">
                <a class="dropdown-item" href="" ng-click="vm.ltsFormulaService.openEditModal(formula)">
                  <i class="fas fa-edit fa-fw"></i> Edit
                </a>
                <a class="dropdown-item" href="" ng-click="vm.deleteFormula(formula)">
                  <i class="fas fa-trash fa-fw"></i> Delete
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="alert alert-info" ng-if="vm.formulas.length === 0">
        There aren't any lts formulas yet.
      </div>
    </div>
  </div>
</div>
