<div class="view">
    <view-header title="Manage Symbols"></view-header>

    <action-bar>
        <div ng-if="vm.groups.length > 0" class="d-flex flex-row align-items-center">
            <selectable-checkbox-multiple selectable="vm.selectedSymbols"></selectable-checkbox-multiple>

            <div class="w-100 ml-3">
                <div class="btn-group btn-group-sm" uib-dropdown>
                    <button class="btn btn-primary btn-dropdown" uib-dropdown-toggle>
                        Create
                    </button>
                    <div uib-dropdown-menu class="dropdown-menu" role="menu">
                        <a class="dropdown-item" href="" ng-click="vm.openSymbolCreateModal()">
                            Symbol
                        </a>
                        <a class="dropdown-item" href="" ng-click="vm.openSymbolGroupCreateModal()">Group</a>
                    </div>
                </div>

                <div class="btn-group btn-group-sm">
                    <button
                            class="btn btn-default"
                            ng-disabled="vm.selectedSymbols.getSelected().length !== 1"
                            ng-click="vm.editSelectedSymbol()"
                    >
                        Edit
                    </button>
                    <button
                            class="btn btn-default"
                            ng-disabled="vm.selectedSymbols.getSelected().length !== 0"
                            ng-click="vm.moveSelectedSymbols()"
                    >
                        Move
                    </button>
                    <button class="btn btn-default"
                            ng-disabled="vm.selectedSymbols.getSelected().length !== 0"
                            ng-click="vm.deleteSelectedSymbols()">
                        Delete
                    </button>
                </div>

                <div class="btn-group btn-group-sm" uib-dropdown>
                    <button
                            class="btn btn-default"
                            ng-click="vm.importSymbols()"
                            uib-tooltip="Import"
                            tooltip-placement="bottom"
                    >
                        <i class="fas fa-fw fa-upload"></i>
                    </button>
                    <button
                            class="btn btn-default"
                            ng-click="vm.exportSelectedSymbols()"
                            uib-tooltip="Export"
                            tooltip-placement="bottom"
                            ng-disabled="vm.selectedSymbols.getSelected().length !== 0"
                    >
                        <i class="fas fa-fw fa-download"></i>
                    </button>
                </div>
            </div>
        </div>
    </action-bar>

    <div class="view-body">
        <div class="container-fluid">

            <div style="height: 31px; margin-bottom: 1.5rem">
                <symbol-search-form
                    groups="vm.groups"
                    on-selected="vm.selectSymbol(symbol)"
                >
                </symbol-search-form>
            </div>

            <div style="margin-bottom: 2rem" ng-repeat="group in vm.groups | orderBy:'-name':true">
                <symbols-symbol-group-tree
                    group="group"
                    symbols="vm.symbols"
                    selected-symbols="vm.selectedSymbols"
                >
                </symbols-symbol-group-tree>
            </div>

        </div>
    </div>
</div>
